///<reference path='../../../interface/node.d.ts' />

var path = require('path');
var fs = require('fs');

var moduleName = path.basename(__dirname);
var desiredPath = __dirname + '/node_' + process.version + '_build/Release/' + moduleName + '.node';

if (fs.existsSync(desiredPath))
{
    var moduleExports = require(desiredPath);

    for (var sProperty in moduleExports)
    {
        exports[sProperty] = moduleExports[sProperty];
    }
}
else
{
    console.log('Error: Module ' + moduleName + ' has not been built for node ' + process.version);
    process.exit(101);
}

